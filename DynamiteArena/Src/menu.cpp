//*******************************************************************************************************************************************
//
// ダイナマイトアリーナ(menu.cpp)
// Author : Kasai Keisuke
//
//*******************************************************************************************************************************************

// include 
#include "menu.h"

//*******************************************************************************************************************************************
// コンストラクタ
//*******************************************************************************************************************************************
CMenu::CMenu(int nPriority):CObject2D(nPriority)
{
	m_Type = MENU_NONE;		// テクスチャの種類
	m_pTexture = nullptr;	// テクスチャのポインタ
}

//*******************************************************************************************************************************************
// デストラクタ
//*******************************************************************************************************************************************
CMenu::~CMenu()
{
	m_Type = MENU_NONE;		// テクスチャの種類
	m_pTexture = nullptr;	// テクスチャのポインタ
}

//*******************************************************************************************************************************************
// 初期化処理
//*******************************************************************************************************************************************
HRESULT CMenu::Init()
{
	// 2Dオブジェクトの初期化処理
	CObject2D::Init();

	return S_OK;
}

//*******************************************************************************************************************************************
// 終了処理
//*******************************************************************************************************************************************
void CMenu::Uninit()
{
	// 2Dオブジェクトの終了処理
	CObject2D::Uninit();

	Release();
}

//*******************************************************************************************************************************************
// 更新処理
//*******************************************************************************************************************************************
void CMenu::Update()
{
	// 2Dオブジェクトの更新処理
	CObject2D::Update();
}

//*******************************************************************************************************************************************
// 描画処理
//*******************************************************************************************************************************************
void CMenu::Draw()
{
	// 2Dオブジェクトの描画処理
	CObject2D::Draw();
}

//*******************************************************************************************************************************************
// 生成処理
//*******************************************************************************************************************************************
CMenu* CMenu::Create(D3DXVECTOR3 pos, float fWidth, float fHeight, MENUTYPE type)
{
	CMenu* pMenu = new CMenu();

	// シングルトンインスタンスの取得
	CManager& manager = CManager::GetInstance();

	pMenu->Init();		// 初期化処理

	pMenu->SetObject2D(pos, D3DXCOLOR(1.0f, 1.0f, 1.0f, 1.0f), fWidth, fHeight);

	switch (type)
	{
	case MENUTYPE::MENU_TUTORIAL:
		// テクスチャの読み込み
		D3DXCreateTextureFromFile(manager.GetRenderer()->GetDevice(), "data\\TEXTURE\\SelectTutorial000.png", &pMenu->m_pTexture);

		break;
	case MENUTYPE::MENU_GAME:
		// テクスチャの読み込み
		D3DXCreateTextureFromFile(manager.GetRenderer()->GetDevice(), "data\\TEXTURE\\SelectGame000.png", &pMenu->m_pTexture);

		break;
	default:
		break;
	}

	pMenu->BindTexture(pMenu->m_pTexture);

	return pMenu;
}
