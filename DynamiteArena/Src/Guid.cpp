//*******************************************************************************************************************************************
//
// ダイナマイトアリーナ(Guid.cpp)
// Author : Kasai Keisuke
//
//*******************************************************************************************************************************************

// include
#include "Guid.h"

//*******************************************************************************************************************************************
// コンストラクタ
//*******************************************************************************************************************************************
CGuid::CGuid(int nPriority):CObject2D(nPriority)
{
	m_pTexture = nullptr;		// テクスチャのポインタ
}

//*******************************************************************************************************************************************
// デストラクタ
//*******************************************************************************************************************************************
CGuid::~CGuid()
{
	m_pTexture = nullptr;		// テクスチャのポインタ
}

//*******************************************************************************************************************************************
// 初期化処理
//*******************************************************************************************************************************************
HRESULT CGuid::Init()
{
	// 2Dオブジェクトの初期化処理
	CObject2D::Init();

	return S_OK;
}

//*******************************************************************************************************************************************
// 終了処理
//*******************************************************************************************************************************************
void CGuid::Uninit()
{
	// 2Dオブジェクトの終了処理
	CObject2D::Uninit();

	Release();
}

//*******************************************************************************************************************************************
// 更新処理
//*******************************************************************************************************************************************
void CGuid::Update()
{
	// 2Dオブジェクトの更新処理
	CObject2D::Update();
}

//*******************************************************************************************************************************************
// 描画処理
//*******************************************************************************************************************************************
void CGuid::Draw()
{
	// 2Dオブジェクトの描画処理
	CObject2D::Draw();
}

//*******************************************************************************************************************************************
// 生成処理
//*******************************************************************************************************************************************
CGuid* CGuid::Create(D3DXVECTOR3 pos, float fWidth, float fHeight, TEXTURETYPE type)
{
	// シングルトンインスタンスの取得
	CManager& manager = CManager::GetInstance();

	CGuid* pGuid = new CGuid();

	pGuid->Init();		// 初期化処理

	pGuid->SetObject2D(pos, D3DXCOLOR(1.0f, 1.0f, 1.0f, 1.0f), fWidth, fHeight);		// 情報設定

	switch (type)
	{// テクスチャの読み込み
	case TEXTURETYPE::TYPE_STARTGAME:

		D3DXCreateTextureFromFile(manager.GetRenderer()->GetDevice(), "data\\TEXTURE\\guid000.png", &pGuid->m_pTexture);

		break;
	case TEXTURETYPE::TYPE_RETURNTITLE:

		D3DXCreateTextureFromFile(manager.GetRenderer()->GetDevice(), "data\\TEXTURE\\guid001.png", &pGuid->m_pTexture);

		break;
	}

	// テクスチャの設定
	pGuid->BindTexture(pGuid->m_pTexture);

	return pGuid;
}
